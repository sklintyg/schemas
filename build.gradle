buildscript {
  repositories {
    jcenter()
    mavenCentral()
  }

  dependencies {
    classpath 'no.nils:wsdl2java:0.10'
  }
}

allprojects {
  apply plugin: 'maven'
  group = 'se.inera.intyg.schemas'
  version = '0-SNAPSHOT'
}

subprojects {
  apply plugin: 'java'
  apply plugin: 'no.nils.wsdl2java'

  sourceCompatibility = 1.8
  targetCompatibility = 1.8

  // Include schemas in jar file
  sourceSets.main.resources { srcDirs = ["schemas"] }

  wsdl2java {
    generatedWsdlDir = file("build/generatedSource/java")
    wsdlDir = file("schemas")
  }

  repositories {
    mavenLocal()

    maven { url "http://repo.maven.apache.org/maven2" }
    maven { url "https://build-inera.nordicmedtest.se/nexus/content/repositories/releases/" }
    maven { url "https://build-inera.nordicmedtest.se/nexus/content/repositories/snapshots/" }
    maven { url "https://build-inera.nordicmedtest.se/nexus/content/repositories/thirdparty/" }
  }

  dependencies {
    def jaxbVersion = "0.9.5"
    compile "se.inera.intyg.schemas:schemas-support:2.0.0"
    compile "org.apache.cxf:cxf-rt-frontend-jaxws:3.1.3"
    compile "org.apache.cxf:cxf-rt-transports-http:3.1.3"
    compile "joda-time:joda-time:2.2"
    compile "org.jvnet.jaxb2_commons:jaxb2-basics-runtime:${jaxbVersion}"

    wsdl2java "org.jvnet.jaxb2_commons:jaxb2-basics-runtime:${jaxbVersion}"
    wsdl2java "org.jvnet.jaxb2_commons:jaxb2-basics:${jaxbVersion}"
  }

}
